Архитектурный чек-лист старта
1) Идентификация и доступы
	Сотрудники → Entra ID (OIDC/OAuth2), роли/политики в токене.
	Клиенты (мобилки/внешние) → Entra External ID (B2C) или собственный identity (но лучше B2C).
	Разделяй tenant для сотрудников и внешний контур (разные app registrations).
	Scopes для B2C (user-level), app roles для внутреннего админ-UI (RBAC).
	MFA + Conditional Access «с первого дня».

2) Контракт API
	Версионирование: api/v1/..., готовься к v2 без ломающих изменений.
	Idempotency на write-операциях (идемпотентные ключи).
	Стандартизированные ошибки (RFC 7807 / Problem Details).
	Политики: rate limit, retry-after, пагинация (cursor/continuation), фильтры/сортировки.
	API Gateway: Azure API Management перед бэком (квоты, ключи, трансформации).

3) Данные
	Транзакции: Azure SQL/Postgres (+ миграции).
	Хранилище больших файлов: Blob Storage (+ SAS, lifecycle).
	Документы для сотрудников: SharePoint (метадата/версии/поиск), в БД — только ссылки/ID.
	Аудит/журналы: отдельные таблицы событий (кто/когда/что).

4) Асинхронщина
	Очереди/шины: Azure Service Bus (команды/события) + Outbox-паттерн, чтоб не терять сообщения.
	Фоновые работы: Functions/Worker Service.
	Change notifications из M365 через Graph → события в твой бэк.

5) Безопасность секретов и связей
	Managed Identity для сервисов, секreты — в Key Vault.
	Private Endpoints к БД/хранилищам.
	Ключи шифрования (Customer-managed) по необходимости.

6) Обсервабилити
	OpenTelemetry (traces/metrics/logs) → Azure Monitor / Application Insights.
	Корреляция trace_id по всем сервисам, логирование запросов/ответов (без PII!).

7) CI/CD и IaC
	GitHub Actions / Azure DevOps.
	Infra as Code: Bicep/Terraform.
	Окружения Dev/Staging/Prod + брэнчи/релизы.
	Миграции БД — автоматом на деплой.

8) Соответствие EU/GDPR
	Регионы West/North Europe, минимизация персональных данных в логах.
	Политики хранения/удаления (retention), DPIA на раннем этапе.

9) Мульти-тенант (если планируете SaaS)
	Модель: single DB with tenant_id или «database per tenant» (зависит от масштабов).
	Row-Level Security/фильтрация по tenant_id на всех слоях.
	Изоляция файлов в Blob по контейнерам/префиксам на тенанта.